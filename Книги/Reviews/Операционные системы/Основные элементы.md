---
tags:
---
---
Дата создания: 2025-01-20 10:21
Дата последнего изменения: 2025-01-20 10:21
---
# Основные идеи
1) 
---
# Содержание

## 1.1. Основные элементы

Элементы: 
**Процессор** - управляет всеми действиями компьютера, обрабатывает данные. Если процессор один, то он называется центральным процессором (CPU - central processing unit)

**Основная память** (оперативная, реальная) - внутренняя для компьютерной системы память, являющаяся программно адресуемой и могущей быть загруженной в регистры. После выключения компьютера очищается. 

**Устройство ввода / вывода** - устройства, которые обеспечивают передачу данных между компьютером и внешним окружением, состоящим из различных периферийных устройств (вторичная память (например, диски), коммуникационные устройства и терминалы).

**Системная шина** - устройство, обеспечивающее передачу данных между блоками компьютера. [вики](https://ru.wikipedia.org/wiki/Шина_(компьютер))
![](модель_работы_компьютера.png)

Внутренние (по отношению к процессору регистры): 
MAR (memory address register) - регистр, в который заносится адрес ячейки, с содержимым которой будут производится либо чтение, либо запись
MBR (memory buffer register) - регистр, в который заносятся данные, предназначенные для записи в память, или те, которые были прочитаны из неё.
Аналогично для I/O: I/O AR, I/O BR.

PC (pointer counter) - счетчик команд. В нем хранится адрес выполняемой команды.
IR (irrupt register) - регистр команд.  В нем хранится данные о выполняемой команде.
### 1.2. Эволюция микропроцессоров

Создание микропроцессоров (содержит процессор в одной микросхеме) для настольных и переносимых компьютеров. Сначала были медленные, но затем стали эффективнее за счет физических особенностей. 

Затем появились мультипроцессоры (в каждой микросхеме содержится несколько процессоров, называемых *ядрами*). Каждое ядро имеет несколько уровней [кеш-памяти](кеш-память.md) большого объема, несколько [логических процессоров](логический%20процессор.md) совместно используют используют исполнительные модули каждого ядра.

GPU (graphical processing unit) - устройства, которое обеспечивает эффективные вычисления над массивами данных, используя возможность обработки множества данных одной командой (Single-instruction Multiple Date - SIMD) - технологии, впервые появившейся в суперкомпьютерах. 

DSP (Digital Signal processors) - процессоры, предназначенные для работы с потоковыми сигналами, такими как аудио или видео. Они использовались для встраивания в устройства ввода-вывода, но в настоящее время стояли полноценными вычислительными устройствами.

SoC (system on a Chip) - система на кристалле, в которых в одной микросхеме находятся не только процессор и кеш-память, но и многие другие компоненты, например DSP и GPU, устройства ввода-вывод.

## 1.3. Выполнение команд.

Программа, которую выполняет процессор, состоит из набора команд. Обработка команды происходит в несколько этапов: этап выборки и этап выполнения.  Для выполнения одной команды может потребоваться несколько операций, их число определяется природой самой команды. Прекращение работы программы происходит при выключении машины, в случае возникновения какой-либо фатальной (неисправимой) ошибки, или в программе имеется команда останова.


> [!NOTE] Интересный факт
> В программировании, то́чка остано́ва (англ. breakpoint) — это преднамеренное прерывание выполнения программы. И больше связано с остановкой выполнения команд, нежели процессора.
> 


> [!NOTE] 
> Цикл команды - набор действий, требующийся для реализации одной команды. 

Процессор выбирает команду. Обычно её адрес хранится в счетчике команд (PC). Если не указано иное, после извлечения каждой команды процессор увеличивает значение счетчика команд на единицу.

Выбранные команды загружаются в регистр команд (IR). Команда состоит из последовательности битов, указывающих процессору, какие именно действия он должен выполнить. 
Общая классификация команд:
- **Процессор - память.** Данные передаются из процессора в память
- **Процессор - устройства ввода-вывода**. (прямой доступ к памяти)
- **Обработка данных**. Выполнение логических или арифметических операций.
- **Управление**. Команда может задавать изменение последовательности выполнения команд, например, если процессор извлекает из ячейки 149 команду, которая указывает, что следующей по очереди должна быть выполнена команда из ячейки 182, то процессор устанавливает значение счетчика команд равным 182. (Работа с прерываниями обеспечивается служенным взаимодействием аппаратных устройств и ПО)
Для выполнения команды может использоваться комбинация таких действий. 

Каждая команда состоит из кода операции и адреса. 

> [!NOTE] ВАЖНО
> Одна команда равно одному слову (разрядность процессора)

[Пример работы машины](Операционные%20системы.pdf#page=45&selection=16,0,16,48)

Повторить: 
**Механизм выбора команды процессором, и её выполнение.** 
//
• **1. (Выполнение команды процессором):**  
  • **Уточнение:** Вы правильно описали общий процесс, но можно добавить, что:  
    1. **Выборка:** Процессор сначала _выбирает_ команду из памяти, используя значение счетчика команд (PC).  
    2. **Загрузка:** Выбранная команда загружается в регистр команд (IR).  
    3. **Декодирование:** Процессор декодирует (расшифровывает) код операции, чтобы понять, какие действия нужно выполнить.  
    4. **Выполнение:** Процессор выполняет команду (может включать передачу данных, арифметические операции и т.д.).  
    5. **Обновление PC:** После выполнения команды PC увеличивается (или изменяется, если это команда перехода).  
    6. **Повторение:** Процесс повторяется для следующей команды.
//
**Роль системной шины в работе пк.**
//
Системная шина обеспечивает передачу данных, адресов и управляющих сигналов между всеми основными компонентами компьютера, включая процессор, память и устройства ввода/вывода.
//
## Тест по 1.1, 1.2, 1.3
  
**Тест по теме "Архитектура компьютера" (Вариант 2)**  
  
**I. Выбор одного правильного ответа**  
  
1. **Какой компонент компьютера непосредственно выполняет инструкции программ?**  
a) Оперативная память  
b) Центральный процессор (CPU) RIGHT  
c) Устройство ввода/вывода  
d) Системная шина  
  
2. **Какая память используется для временного хранения данных, с которыми процессор активно работает, и теряет свои данные при отключении питания?**  
a) Вторичная память  
b) Оперативная память (RAM)  RIGHT
c) Постоянная память (ROM)  
d) Кеш-память  
  
3. **Какой регистр процессора хранит адрес следующей команды, которая должна быть выполнена?**  
a) Регистр данных (DR)  
b) Регистр команд (IR)  
c) Счетчик команд (PC)  RIGHT
d) Регистр адреса памяти (MAR)  
  
4. **Какой регистр процессора содержит данные, которые будут записаны в память или только что были прочитаны из нее?**  
a) Регистр адреса памяти (MAR)  
b) Регистр буфера памяти (MBR) RIGHT 
c) Регистр команд (IR)  
d) Счетчик команд (PC)  
  
5. **Что такое системная шина в контексте компьютера?**  
a) Только канал для передачи данных  
b) Только канал для передачи адресов  
c) Канал для передачи данных, адресов и управляющих сигналов RIGHT  
d) Только устройство для подключения периферии  
  
6. **Какое устройство специализируется на выполнении графических вычислений, особенно над массивами данных?**  
a) CPU  
b) DSP  
c) GPU  RIGHT
d) SoC  
  
7. **Какой тип процессора специально предназначен для обработки потоковых сигналов, таких как аудио и видео?**  
a) GPU  
b) CPU  
c) DSP  RIGHT
d) SoC  
  
8. **Что означает аббревиатура SoC (System on a Chip)?**  
a) Система с несколькими процессорами  
b) Процессор с интегрированной графикой  
c) Интегрированная система на одном кристалле, включающая различные компоненты RIGHT  
d) Набор микросхем для системной шины  
  
9. **На каком этапе обработки команды, происходит извлечение команды из памяти в процессор?**  
a) На этапе выполнения  
b) На этапе выборки RIGHT 
c) На этапе декодирования  
d) На этапе записи  
  
10. **Что, в основном, определяет разницу между микропроцессором и мультипроцессором?**  
a) Скорость работы  
b) Количество ядер  
c) Количество физических чипов (микросхем) RIGHT  
d) Тип памяти  
  
**II. Заполнение пропусков**  
  
1. Технология _________ позволяет выполнять одну и ту же команду над множеством данных одновременно.  (SIMD - single instruction multiple data)
2. Регистр _________ хранит адрес ячейки памяти, с которой в данный момент работает процессор. (PC - pointer counter)  
3. Цикл команды состоит из этапов: выборки, декодирования и _________.  (выполнения)
4. Каждая команда состоит из _________ и _________. (кода операции и адреса ячейки, над которой будет произведена операция) 
5. Основная память также называется _________ памятью.  (реальной)

**III. Вопросы с кратким ответом**  
  
1. Перечислите три основные типа шин, составляющих системную шину.  (адресная шина, шина данных, шина управления)
2. Каково назначение счетчика команд (PC)?  (определяет адрес команды, которая будет выполнена далее)
3. Какова роль регистра команд (IR)? (Регистр, в который попадает адрес ячейки, над которой будет производится операция) 
4. Опишите, что происходит с содержимым счетчика команд (PC) после выборки команды (в общем случае)?  (увеличивается на один)
5. Перечислите основные типы команд, которые может выполнять процессор (минимум 3). (команда управления, обработки, )  
  
**IV. Вопросы "верно/неверно"**  
  
1. Оперативная память (RAM) сохраняет данные после отключения компьютера. (Верно)
2. Регистр MBR хранит адрес ячейки памяти. (Неверно)  
3. GPU (графический процессор) используется исключительно для обработки графики. (Неверно)  
4. DSP (цифровой сигнальный процессор) может использоваться для обработки изображений. (Верно, но это не его основная функция)  
5. Мультипроцессор – это система, в которой несколько процессоров расположены на одном чипе (микросхеме). (Неверно)  
  
**V. Задание на понимание**  
  
1. Опишите простыми словами, как происходит процесс выполнения одной команды процессором от начала и до конца (регистров PC, IR и т.д.).
	   Ответ:
		   1) Производится выборка команды по значению PC.  
		   2) Код команды дешифруется
		   3) Её адрес заносится в IP. Если не указана иное, то PC увеличивается на 1.
		   4) Данные из ячейки в IP заносятся в AR.
		   5) Выбирается следующая команда.
2. Объясните, почему системная шина является важным компонентом компьютера и какие функции она выполняет.  
	   Ответ: Системная шина - это устройства для передачи данные, адресов и сигналов управления между устройствами. Без неё процессор бы не смог контролировать работу компьютера. 
  
### Ответы 
**Ключи к тесту (для самопроверки):**  
  
**I. Выбор одного правильного ответа**  
  
1. b)  
2. b)  
3. c)  
4. b)  
5. c)  
6. c)  
7. c)  
8. c)  
9. b)  
10. c)  
  
**II. Заполнение пропусков**  
  
1. SIMD  
2. MAR  
3. выполнения  
4. кода операции, адреса  
5. оперативной  
  
**III. Вопросы с кратким ответом**  
  
1. Шина данных, шина адреса, шина управления.  
2. Хранит адрес следующей команды, которая должна быть выполнена.  
3. Хранит текущую выполняемую команду (код операции и адрес).  
4. Обычно увеличивается на единицу (или изменяется, если это команда перехода).  
5. Процессор-память, процессор-устройства ввода/вывода, обработка данных, управление.  
  
**IV. Вопросы "верно/неверно"**  
  
1. Неверно  
2. Неверно  
3. Неверно  
4. Верно  
5. Неверно  
  
**V. Задание на понимание**  
  
1. Процессор берет адрес следующей команды из PC, загружает команду в регистр IR, декодирует ее, выполняет, обновляет PC.  
2. Системная шина обеспечивает обмен данными, адресами и управляющими сигналами между всеми компонентами компьютера, что необходимо для их слаженной работы.  
  
## 1.4. Прерывания. 

Прерывание - механизм с помощью, которого различные модули (ввода-вывод, памяти). могут прервать нормальную последовательность работы процессора. Создан с целью повышения эффективности процессора, во время ожидания результата выполнения каких-либо команд.

Классы прерываний: 
- **Программные**
	  Генерируется в некоторых ситуациях, возникающих в результате выполнения команд. Примеры: арифметическое переполнение, деление на нуль, попытка выполнить некорректную команду или обратиться к области памяти, доступ к которой пользователю запрещен.
- **Таймера**
	  Генерируются таймеро процессора. Это прерывание позволяет ОС выполнять некоторые функции периодискки, через заданные промежутки времени.
- Ввода - вывода
	  Генерируется контроллером ввода-вывод. Сигнализирует о нормальном завершении операции или о наличии ошибок.
- Аппаратный сбой
	  Генерируется при сбоях и аварийных ситуациях, как, например, падение напряжения в сети или ошибка контроля ==четности памяти==.


> [!NOTE] Пример
> Пусть на процессоре обрабатываются команды для работы с принтером. После каждой операции процессор вынужден ждать, пока принтер примет данные (как раз здесь можно использовать прерывания для увеличения эффективности работы процессора).

#### Иллюстрация работы механизма прерываний
![Механизм прерываний](механизм%20прерываний.png)

WRITE - вызов процедуры записи
Программа ввода-вывода состоит из трех частей:
- Последовательность команд для подготовки данных (на рисунке обозначены 4). Это может быть копирование выводимых данных в специальных буфер и подготтовка параметров, необходимых для управления устрйством.
- Программа ввода вывода. Процессор ждет, пока она выполнится, если нет прервываний.
- Программа, показывающая, что устройство ввода-вывода завершило работу.
### Прерывания и циклы команд

Во время работы программы 4 (это может быть печать у принтера), процессор используя механизм прерываний, может продолжать выполнять пользовательские программы. Как только  внешнее устройство завершило работу, то контроллер ввода-вывод этого устройства посылает процессору сигнал *запроса прерывания* (interrupt request). Процессор преостанавливает выполнение текущей программы и переключается на работу с программой, обслуживающей данные устрйоство ввода-вывода (обработчик прервываний) 
### Обработка прерывания 
### Множественные прерывания
## TODO
1. Сделать сноску команда
---
## Ресурсы:
1) 
