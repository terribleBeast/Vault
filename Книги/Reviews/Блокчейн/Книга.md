## глава 1. Знакомство с блокчейном

### 1.1. Происхождение блокчейна
Сатошо Накомото 
Слабое развитие банковской системы
Сильной контроль со стороны банков
### 1.2. Что такое блокчейн?

Структура блока 
Блокчейн - одноранговая система передачи ценности без участия доверенной третьей стороны. 
Это общий, децентрализованный и открытый реестр транзакций. База данный реплицируется на большое количество узлов.
... 
### 1.3. Централизованные и децентрализованные системы

Распределенная системы
Hadoop

Аспекты организации системы

Блокчейн это децентрализованная два, централизованная один.
~~так как существует единственно верное состояние всей системы~~

#### 1.3.1. Централизованные системы
Легко разрабатывать, поддерживать, навязывать доверие, управлять.
Ограничения:
- есть центральная точка отказа - менее стабильны
- централизация власти может привести к неэтичным действиям
- масштабирование их в большинстве случаев затруднено.

#### 1.3.2. Децентрализованные системы
Однако, в отличие от обычных распределенных систем, в блокчейне задача не разделяется и не делегируется узлам, т. к. в блокчейне нет руководителя, который делал бы это. Распределенные узлы не работают над частями вычислений. Напротив, заинтересованные или выбранные случайным образом узлы в одиночку выполняют всю работу.

### 1.4. Уровни блокчейна

Блокчейн - это сочетание принципов бизнеса, экономики, теории игр, криптографии и инженерных наук.


> [!NOTE] Title
> Гетерогенная система

![](уровни_блокчейна.png)


#### 1.4.1. Прикладной уровень (application layer)


> [!NOTE] Title
> В идеале, хорошие приложения блокчейна не используют модель "клиент-сервер", и не существует централизованных серверов, к которым обращаются клиенты.

Прикладной уровень - это уровень, на котором разрабатываются функции блокчейна. 
off-chain network - сети вне блокчейна. Идея такова: не использовать блокчейн для всех операций подряд, а переносить "тяжелые" вычисления куда-то еще, чтобы сеть блокчейна оставалась "легкой" и эффективной.

#### 1.4.2. Уровень выполнения (execution layer)
**Уровень выполнения** - это уровень, на котором происходит выполнение инструкций, сформированных приложениями, на всех уровнях блокчейна. Инструкции могут быть простыми командами или набором инструкция в форме *умного контракта*.

Все узлы блокчейна должны выполнять программы/сценарии независимо друг от друга (детерминированность).

В случае с Bitcoin - это простые сценарии, которые ==не являются полными по Тьюрингу==, и допускают выполнение лишь небольшого набора инструкций. Системы Ethereum и Hyperledger, наоборот, допускают сложные сценарии. Код Etherium - его умные контракты на языке Solidity, компилируется в байт-код или машинный код, который выполняется на собственной ==виртуальной машине== Ethereum. Hyperledger использует более простой подход к своим умным контрактам. Он поддерживает запуск компилированных машинных кодов внутри Docker-образа и поддерживает несколько языков выского уровня, таких как Java, Go, Node.js.

#### 1.4.3 Семантический уровень (semantic layer)
**Семантический уровень** - это уровень, на котором определяется валидность операции, основываясь на данных внутри блоков. Любая транзакция проходит через этап выполнения и проверяется на семантическом уровене.
Например, если мы испольуем Bitcoin.
На семантическом уровне проверяется, совершается ли законная транзацкция, не делается ли ==двойная трата==. 


> [!NOTE] 
> В Bitcoin нет понятия "баланс" - все транзакции считаются каждый раз. 
> Ethereum имеется система балансовых счетов. 


==Умный контракт== - это особый тип учетной записи с испольняемым кодом и частными состояниями.  

Семантическйи уровень определеяет, как блоко блокчейна будут связаны между собой. 
Хотя конечное состояние блокчейна достогается за счет вкладов всех уровней, на семантическом уровне необходимо определеить связь блоков друг с другом. В зависимости от варианта использования, можно закодировать в этом слое дополнительные функции. 

#### 1.4.4. Уровень распространения (propagation layer)

Уровень распространения - это уровень, на котором происходит распространение транзакций/блоков в сети, и это распространение обеспечивает устойчивость всей сети.